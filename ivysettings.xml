<?xml version="1.0" encoding="UTF-8"?>
<ivysettings>

	<properties file="ivyconfiguration.properties"/>

	<property name="publish.pattern" value="[artifact]/[artifact]-[revision].[ext]"/>
	<property name="ivy.file.pattern" value="[module]/ivy-[revision].xml"/>

	<settings defaultResolver="all"/>
	
	<resolvers>
	
		<!--
	      for *retrieving* artifacts for local testing builds,
	      we'll use maven's own .m2/repository.
	    -->
	    <ibiblio name="local-m2" m2compatible="true" root="file://${user.home}/.m2/repository" changingPattern=".*SNAPSHOT" />
	    <!--
	      for *publishing* artifacts for local testing builds, as the previous ibiblio resolver does not support publishing
	    -->
	    <filesystem name="local-m2-publish" m2compatible="true">
	      <artifact pattern="${user.home}/.m2/repository/[organisation]/[module]/[revision]/[artifact]-[revision](-[classifier]).[ext]"/>
	    </filesystem>
	
		<ibiblio name="maven-central" m2compatible="true" />
		
		<filesystem name="local" local="true">
			<ivy pattern="${ivy.local.repository.dir}/${ivy.file.pattern}"/>
			<artifact pattern="${ivy.local.repository.dir}/${publish.pattern}"/>
		</filesystem>
		
		<chain name="all" changingPattern=".*SNAPSHOT">
			<resolver ref="maven-central" />
			<resolver ref="local-m2" />
			<resolver ref="local-m2-publish" />
			<resolver ref="local" />
		</chain>
		
	</resolvers>
	
</ivysettings>